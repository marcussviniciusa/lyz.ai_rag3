{"level":"error","message":"Usuário não encontrado: admin@lyz.ai","service":"lyz-api","timestamp":"2025-05-22 14:29:06"}
{"level":"error","message":"Erro no login: secretOrPrivateKey must have a value","service":"lyz-api","stack":"Error: secretOrPrivateKey must have a value\n    at module.exports [as sign] (/home/m/lyz.ai_rag3/backend/node_modules/jsonwebtoken/sign.js:111:20)\n    at exports.login (/home/m/lyz.ai_rag3/backend/src/controllers/auth.controller.js:271:30)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2025-05-22 14:29:12"}
{"level":"error","message":"secret or public key must be provided","name":"JsonWebTokenError","service":"lyz-api","stack":"JsonWebTokenError: secret or public key must be provided\n    at /home/m/lyz.ai_rag3/backend/node_modules/jsonwebtoken/verify.js:113:19\n    at getSecret (/home/m/lyz.ai_rag3/backend/node_modules/jsonwebtoken/verify.js:97:14)\n    at module.exports [as verify] (/home/m/lyz.ai_rag3/backend/node_modules/jsonwebtoken/verify.js:101:10)\n    at exports.refreshToken (/home/m/lyz.ai_rag3/backend/src/controllers/auth.controller.js:321:25)\n    at Layer.handle [as handle_request] (/home/m/lyz.ai_rag3/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/m/lyz.ai_rag3/backend/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/home/m/lyz.ai_rag3/backend/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/home/m/lyz.ai_rag3/backend/node_modules/express/lib/router/layer.js:95:5)\n    at /home/m/lyz.ai_rag3/backend/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/home/m/lyz.ai_rag3/backend/node_modules/express/lib/router/index.js:346:12)","timestamp":"2025-05-22 14:30:10"}
{"level":"error","message":"secret or public key must be provided","name":"JsonWebTokenError","service":"lyz-api","stack":"JsonWebTokenError: secret or public key must be provided\n    at /home/m/lyz.ai_rag3/backend/node_modules/jsonwebtoken/verify.js:113:19\n    at getSecret (/home/m/lyz.ai_rag3/backend/node_modules/jsonwebtoken/verify.js:97:14)\n    at module.exports [as verify] (/home/m/lyz.ai_rag3/backend/node_modules/jsonwebtoken/verify.js:101:10)\n    at exports.refreshToken (/home/m/lyz.ai_rag3/backend/src/controllers/auth.controller.js:321:25)\n    at Layer.handle [as handle_request] (/home/m/lyz.ai_rag3/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/m/lyz.ai_rag3/backend/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/home/m/lyz.ai_rag3/backend/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/home/m/lyz.ai_rag3/backend/node_modules/express/lib/router/layer.js:95:5)\n    at /home/m/lyz.ai_rag3/backend/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/home/m/lyz.ai_rag3/backend/node_modules/express/lib/router/index.js:346:12)","timestamp":"2025-05-22 14:30:10"}
{"level":"error","message":"Erro no login: secretOrPrivateKey must have a value","service":"lyz-api","stack":"Error: secretOrPrivateKey must have a value\n    at module.exports [as sign] (/home/m/lyz.ai_rag3/backend/node_modules/jsonwebtoken/sign.js:111:20)\n    at exports.login (/home/m/lyz.ai_rag3/backend/src/controllers/auth.controller.js:271:30)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2025-05-22 14:30:17"}
{"level":"error","message":"invalid signature","name":"JsonWebTokenError","service":"lyz-api","stack":"JsonWebTokenError: invalid signature\n    at /home/m/lyz.ai_rag3/backend/node_modules/jsonwebtoken/verify.js:171:19\n    at getSecret (/home/m/lyz.ai_rag3/backend/node_modules/jsonwebtoken/verify.js:97:14)\n    at module.exports [as verify] (/home/m/lyz.ai_rag3/backend/node_modules/jsonwebtoken/verify.js:101:10)\n    at exports.refreshToken (/home/m/lyz.ai_rag3/backend/src/controllers/auth.controller.js:321:25)\n    at Layer.handle [as handle_request] (/home/m/lyz.ai_rag3/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/m/lyz.ai_rag3/backend/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/home/m/lyz.ai_rag3/backend/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/home/m/lyz.ai_rag3/backend/node_modules/express/lib/router/layer.js:95:5)\n    at /home/m/lyz.ai_rag3/backend/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/home/m/lyz.ai_rag3/backend/node_modules/express/lib/router/index.js:346:12)","timestamp":"2025-05-22 14:33:38"}
{"level":"error","message":"invalid signature","name":"JsonWebTokenError","service":"lyz-api","stack":"JsonWebTokenError: invalid signature\n    at /home/m/lyz.ai_rag3/backend/node_modules/jsonwebtoken/verify.js:171:19\n    at getSecret (/home/m/lyz.ai_rag3/backend/node_modules/jsonwebtoken/verify.js:97:14)\n    at module.exports [as verify] (/home/m/lyz.ai_rag3/backend/node_modules/jsonwebtoken/verify.js:101:10)\n    at exports.refreshToken (/home/m/lyz.ai_rag3/backend/src/controllers/auth.controller.js:321:25)\n    at Layer.handle [as handle_request] (/home/m/lyz.ai_rag3/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/m/lyz.ai_rag3/backend/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/home/m/lyz.ai_rag3/backend/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/home/m/lyz.ai_rag3/backend/node_modules/express/lib/router/layer.js:95:5)\n    at /home/m/lyz.ai_rag3/backend/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/home/m/lyz.ai_rag3/backend/node_modules/express/lib/router/index.js:346:12)","timestamp":"2025-05-22 14:33:38"}
{"kind":"ObjectId","level":"error","message":"Erro ao buscar plano: Cast to ObjectId failed for value \"stats\" (type string) at path \"_id\" for model \"Plan\"","path":"_id","reason":{},"service":"lyz-api","stack":"CastError: Cast to ObjectId failed for value \"stats\" (type string) at path \"_id\" for model \"Plan\"\n    at SchemaObjectId.cast (/home/m/lyz.ai_rag3/backend/node_modules/mongoose/lib/schema/objectId.js:251:11)\n    at SchemaType.applySetters (/home/m/lyz.ai_rag3/backend/node_modules/mongoose/lib/schemaType.js:1255:12)\n    at SchemaType.castForQuery (/home/m/lyz.ai_rag3/backend/node_modules/mongoose/lib/schemaType.js:1673:17)\n    at cast (/home/m/lyz.ai_rag3/backend/node_modules/mongoose/lib/cast.js:390:32)\n    at Query.cast (/home/m/lyz.ai_rag3/backend/node_modules/mongoose/lib/query.js:5055:12)\n    at Query._castConditions (/home/m/lyz.ai_rag3/backend/node_modules/mongoose/lib/query.js:2351:10)\n    at model.Query._findOne (/home/m/lyz.ai_rag3/backend/node_modules/mongoose/lib/query.js:2674:8)\n    at model.Query.exec (/home/m/lyz.ai_rag3/backend/node_modules/mongoose/lib/query.js:4604:80)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async exports.getPlan (/home/m/lyz.ai_rag3/backend/src/controllers/plan.controller.js:79:18)","stringValue":"\"stats\"","timestamp":"2025-05-22 17:11:12","value":"stats","valueType":"string"}
{"kind":"ObjectId","level":"error","message":"Erro ao buscar plano: Cast to ObjectId failed for value \"stats\" (type string) at path \"_id\" for model \"Plan\"","path":"_id","reason":{},"service":"lyz-api","stack":"CastError: Cast to ObjectId failed for value \"stats\" (type string) at path \"_id\" for model \"Plan\"\n    at SchemaObjectId.cast (/home/m/lyz.ai_rag3/backend/node_modules/mongoose/lib/schema/objectId.js:251:11)\n    at SchemaType.applySetters (/home/m/lyz.ai_rag3/backend/node_modules/mongoose/lib/schemaType.js:1255:12)\n    at SchemaType.castForQuery (/home/m/lyz.ai_rag3/backend/node_modules/mongoose/lib/schemaType.js:1673:17)\n    at cast (/home/m/lyz.ai_rag3/backend/node_modules/mongoose/lib/cast.js:390:32)\n    at Query.cast (/home/m/lyz.ai_rag3/backend/node_modules/mongoose/lib/query.js:5055:12)\n    at Query._castConditions (/home/m/lyz.ai_rag3/backend/node_modules/mongoose/lib/query.js:2351:10)\n    at model.Query._findOne (/home/m/lyz.ai_rag3/backend/node_modules/mongoose/lib/query.js:2674:8)\n    at model.Query.exec (/home/m/lyz.ai_rag3/backend/node_modules/mongoose/lib/query.js:4604:80)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async exports.getPlan (/home/m/lyz.ai_rag3/backend/src/controllers/plan.controller.js:79:18)","stringValue":"\"stats\"","timestamp":"2025-05-22 17:11:12","value":"stats","valueType":"string"}
{"kind":"ObjectId","level":"error","message":"Erro ao buscar plano: Cast to ObjectId failed for value \"undefined\" (type string) at path \"_id\" for model \"Plan\"","path":"_id","reason":{},"service":"lyz-api","stack":"CastError: Cast to ObjectId failed for value \"undefined\" (type string) at path \"_id\" for model \"Plan\"\n    at SchemaObjectId.cast (/home/m/lyz.ai_rag3/backend/node_modules/mongoose/lib/schema/objectId.js:251:11)\n    at SchemaType.applySetters (/home/m/lyz.ai_rag3/backend/node_modules/mongoose/lib/schemaType.js:1255:12)\n    at SchemaType.castForQuery (/home/m/lyz.ai_rag3/backend/node_modules/mongoose/lib/schemaType.js:1673:17)\n    at cast (/home/m/lyz.ai_rag3/backend/node_modules/mongoose/lib/cast.js:390:32)\n    at Query.cast (/home/m/lyz.ai_rag3/backend/node_modules/mongoose/lib/query.js:5055:12)\n    at Query._castConditions (/home/m/lyz.ai_rag3/backend/node_modules/mongoose/lib/query.js:2351:10)\n    at model.Query._findOne (/home/m/lyz.ai_rag3/backend/node_modules/mongoose/lib/query.js:2674:8)\n    at model.Query.exec (/home/m/lyz.ai_rag3/backend/node_modules/mongoose/lib/query.js:4604:80)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async exports.getPlan (/home/m/lyz.ai_rag3/backend/src/controllers/plan.controller.js:79:18)","stringValue":"\"undefined\"","timestamp":"2025-05-22 17:41:23","value":"undefined","valueType":"string"}
{"kind":"ObjectId","level":"error","message":"Erro ao buscar plano: Cast to ObjectId failed for value \"undefined\" (type string) at path \"_id\" for model \"Plan\"","path":"_id","reason":{},"service":"lyz-api","stack":"CastError: Cast to ObjectId failed for value \"undefined\" (type string) at path \"_id\" for model \"Plan\"\n    at SchemaObjectId.cast (/home/m/lyz.ai_rag3/backend/node_modules/mongoose/lib/schema/objectId.js:251:11)\n    at SchemaType.applySetters (/home/m/lyz.ai_rag3/backend/node_modules/mongoose/lib/schemaType.js:1255:12)\n    at SchemaType.castForQuery (/home/m/lyz.ai_rag3/backend/node_modules/mongoose/lib/schemaType.js:1673:17)\n    at cast (/home/m/lyz.ai_rag3/backend/node_modules/mongoose/lib/cast.js:390:32)\n    at Query.cast (/home/m/lyz.ai_rag3/backend/node_modules/mongoose/lib/query.js:5055:12)\n    at Query._castConditions (/home/m/lyz.ai_rag3/backend/node_modules/mongoose/lib/query.js:2351:10)\n    at model.Query._findOne (/home/m/lyz.ai_rag3/backend/node_modules/mongoose/lib/query.js:2674:8)\n    at model.Query.exec (/home/m/lyz.ai_rag3/backend/node_modules/mongoose/lib/query.js:4604:80)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async exports.getPlan (/home/m/lyz.ai_rag3/backend/src/controllers/plan.controller.js:79:18)","stringValue":"\"undefined\"","timestamp":"2025-05-22 17:42:36","value":"undefined","valueType":"string"}
{"kind":"ObjectId","level":"error","message":"Erro ao buscar plano: Cast to ObjectId failed for value \"undefined\" (type string) at path \"_id\" for model \"Plan\"","path":"_id","reason":{},"service":"lyz-api","stack":"CastError: Cast to ObjectId failed for value \"undefined\" (type string) at path \"_id\" for model \"Plan\"\n    at SchemaObjectId.cast (/home/m/lyz.ai_rag3/backend/node_modules/mongoose/lib/schema/objectId.js:251:11)\n    at SchemaType.applySetters (/home/m/lyz.ai_rag3/backend/node_modules/mongoose/lib/schemaType.js:1255:12)\n    at SchemaType.castForQuery (/home/m/lyz.ai_rag3/backend/node_modules/mongoose/lib/schemaType.js:1673:17)\n    at cast (/home/m/lyz.ai_rag3/backend/node_modules/mongoose/lib/cast.js:390:32)\n    at Query.cast (/home/m/lyz.ai_rag3/backend/node_modules/mongoose/lib/query.js:5055:12)\n    at Query._castConditions (/home/m/lyz.ai_rag3/backend/node_modules/mongoose/lib/query.js:2351:10)\n    at model.Query._findOne (/home/m/lyz.ai_rag3/backend/node_modules/mongoose/lib/query.js:2674:8)\n    at model.Query.exec (/home/m/lyz.ai_rag3/backend/node_modules/mongoose/lib/query.js:4604:80)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async exports.getPlan (/home/m/lyz.ai_rag3/backend/src/controllers/plan.controller.js:79:18)","stringValue":"\"undefined\"","timestamp":"2025-05-22 17:42:36","value":"undefined","valueType":"string"}
